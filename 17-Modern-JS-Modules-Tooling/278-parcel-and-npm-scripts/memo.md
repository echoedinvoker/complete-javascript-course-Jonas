# **_What is Parcel?_**

- It is one of module bundlers on NPM.
  - webpack is the most used module bundler, but it doesn't need to be so complicated here.
- It works out of box without any configuration.

# **_Use NPM install Parcel_**

`npm i parcel --save-dev`

- **--save-dev** will let parcel be a devDependency.
  - devDependency is a dependency that is required for development but will not be included in the code.
    - It is simply a tool, we just use it to develop our project.

## **register in package.json**

![alt devDependencies in package.json](pic/bandicam%202022-09-20%2016-55-34-748.jpg)

# **_Parcel is cli package & into develop mode_**

## **But cannot directly use it on cli**

![alt directly parcel on cli](pic/bandicam%202022-09-20%2016-56-48-518.jpg)

- Only packages installed in the global scope can be used directly in the command line, the way we installed Parcel earlier was locally.
  - local means that the package is installed on a single project only.

## **Solve 1 - npx**

![alt npx](pic/bandicam%202022-09-20%2016-58-28-370.jpg)

- npx is basically an application built into NPM.
- The argument of parcel command is entry point of this project.

## **Solve 2 - write script in package.json**

![alt start script in package.json](pic/bandicam%202022-09-20%2023-13-26-989.jpg)

## **Solve 3 - install Parcel in global scope**

`npm i parcel -g`

- The above command is equivalent to installing Parcel in the entire npm environment, not a single project.
- When Parcel is installed in the global scope, we can use its commands directly in the command line.

## **Re-build automatically**

![alt src index.html and script.js](pic/bandicam%202022-09-20%2016-59-26-829.jpg)

- After successfully using the percel command, it will enter the develop mode, in which it will automatically re-build as soon as the file is saved.
  - just like **live server** plugin.

## **Distribution**

After we use the percel command, we will create a dist folder with a new index.html and JS file.

![alt dist index.html](pic/bandicam%202022-09-20%2017-06-11-377.jpg)

- This is a new index.html generated by Parcel in the dist folder.

![alt dist js](pic/bandicam%202022-09-20%2017-10-06-003.jpg)

- This is a new script.js generated by Parcel in the dist folder.
  ![](pic/bandicam%202022-09-20%2017-13-27-465.jpg)
  ![alt auto re-build when save](pic/bandicam%202022-09-20%2017-18-42-649.jpg)

- The files in this folder are generated for final production.
  - However, when we use the percel command, the html and JS files are not yet fully compressed because they are still in the development stage.
    - But you can already see that **the contents of the JS file have been bundled together with the contents of the different modules**.

# **_Need "module" type or not?_**

![alt remove type="module"](pic/bandicam%202022-09-20%2017-02-23-578.jpg)

- The course says that if you use Parcel, you can't add type="module" to the script tag, but **the test shows the opposite**.
  - Maybe it's a version difference.

# **_Module Hot Reload_**

![alt module hot reloading](pic/bandicam%202022-09-20%2017-25-04-667.jpg)

- This is an amazing feature of Parcel, it allows us to do the re-build operation automatically when we save the file, but the web part will not be reloaded.
  - This allows us to maintain the status of the page while updating it.
  - The simplest example is the previous "bankist" project, if you use this feature you don't have to log in again every time you save.

# **_Import Only Library name_**

![alt from only library name](pic/bandicam%202022-09-20%2017-32-11-467.jpg)

- Although the course says that if you use Parcel, you can import directly with the name of the library, **there seems to be a problem with the actual test**.
- This feature is also applicable to various assets, such as CSS, image.

# **_Final Build_**

When our project is finished and ready to go, we must use the command to do a final build so that the contents of the html and JS files in the dist are completely compressed.

## **Write script in package.json & run it**

![](pic/bandicam%202022-09-20%2023-42-03-661.jpg)
`parcel build [entry point]`

- The above command will generate the actual html and JS files for production in the dist folder

## **Problem happen**

![](pic/bandicam%202022-09-20%2023-30-26-918.jpg)
![](pic/bandicam%202022-09-20%2023-32-52-038.jpg)

## **Problem solve**

- https://www.udemy.com/course/the-complete-javascript-course/learn/lecture/22649501#questions/14441994
  - This is lecture Q&A solution link.

![](pic/bandicam%202022-09-20%2023-35-18-586.jpg)
![](pic/bandicam%202022-09-20%2023-38-41-404.jpg)

- These two files are the files that the user's browser really wants to download.
- The contents of the file are completely compressed, so we can't see any line breaks or comments.
